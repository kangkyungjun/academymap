<html lang="ko">
{% load static %}

{% include 'main/headers.html' %}



<body>


{% block contents %}
{% endblock %}



</body>

</html>


{% block extra_js %}
<!-- Chart.js 및 DataLabels 플러그인 로드 (CDN 사용) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script>
  const ctx = document.getElementById('tuitionChart').getContext('2d');
  const tuitionChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: {{ chart_labels|safe }},  // 예: ["현재", "법정동", "행정동", "시군구", "시도", "전국"]
      datasets: [{
        label: '수강료 평균',
        data: {{ chart_data|safe }},
        backgroundColor: 'rgba(75, 192, 192, 0.2)',
        borderColor: 'rgba(75, 192, 192, 1)',
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            callback: function(value) {
              // 소수점 이하를 없애고 정수형태로 출력 (예: 1234567 → "1,234,567")
              return Math.round(value).toLocaleString();
            }
          }
        }
      },
      plugins: {
        legend: {
          display: false
        },
        datalabels: {
          anchor: 'end',
          align: 'end',
          formatter: function(value) {
            // 데이터 레이블도 정수로 반올림하여 출력
            return Math.round(value).toLocaleString();
          },
          font: {
            weight: 'bold'
          }
        }
      }
    },
    plugins: [ChartDataLabels]
  });
</script>


{% endblock %}